<!-- Add CSS and JS links -->
<link rel="stylesheet" href="/css/styles.css">
<!-- registration.ejs - Registration View -->
<div class="registration-container">
    <h1><%= title %></h1>
    
    <!-- Flash Messages -->
    <%- include('../includes/flash-messages') %>

    <!-- Validation Errors -->
    <% if (errors) { %>
      <ul class="notice errors">
        <% errors.array().forEach(error => { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
    <% } %>

    <!-- Registration Form -->
    <form action="/account/register" method="POST">
        <div class="form-group">
            <label for="account_firstname">First name:</label>
            <input type="text" id="account_firstname" name="account_firstname" 
                   value="<%= typeof account_firstname !== 'undefined' ? account_firstname : '' %>" 
                   required class="form-control">
        </div>

        <div class="form-group">
            <label for="account_lastname">Last name:</label>
            <input type="text" id="account_lastname" name="account_lastname" 
                   value="<%= typeof account_lastname !== 'undefined' ? account_lastname : '' %>" 
                   required class="form-control">
        </div>

        <div class="form-group">
            <label for="account_email">Email address:</label>
            <input type="email" id="account_email" name="account_email" 
                   value="<%= typeof account_email !== 'undefined' ? account_email : '' %>" 
                   required class="form-control">
        </div>

        <div class="form-group password-group">
            <label for="account_password">Password:</label>
            <input type="password" id="account_password" name="account_password" 
                   required class="form-control" 
                   minlength="12"
                   pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
                   title="Must contain at least 12 characters, including 1 number, 1 lowercase letter, 1 uppercase letter, and 1 non-alphanumeric character">
            
            <button type="button" class="toggle-password" onclick="togglePassword()">Show</button>
            
            <!-- Password Requirements -->
            <div class="password-requirements">
                <small>Passwords must be at least 12 characters and contain at least:</small>
                <ul>
                    <li>1 number (0-9)</li>
                    <li>1 lowercase letter (a-z)</li>
                    <li>1 uppercase letter (A-Z)</li>
                    <li>1 special character (!@#$%^&* etc.)</li>
                </ul>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Register</button>
    </form>
</div>

<script src="/js/registration.js"></script>